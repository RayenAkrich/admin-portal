
# Admin Portal

This project is the Admin Portal for the SecuriNets FST event check-in system. It allows event staff to scan QR codes generated by the Invite Portal, verify member presence, and update attendance in a Neon PostgreSQL database.

## Features
- Live QR code scanning using the device camera
- Member check-in and presence validation
- Integration with Neon PostgreSQL database
- Responsive, modern UI

## Project Structure
```
admin-portal/
├── css/
│   └── admin-style.css         # Styles for the admin portal
├── js/
│   └── admin.js               # Camera and QR code scanning logic
├── server/
│   └── index.js               # Express backend for database operations
├── admin.html                 # Main admin portal page
└── README.md                  # Project documentation
```

## Setup & Usage

### 1. Clone the repository
```
git clone <repo-url>
cd admin-portal
```

### 2. Install backend dependencies
```
cd server
npm install
```

### 3. Configure the database
- Update the `connectionString` in `server/index.js` with your Neon PostgreSQL credentials (or set `DATABASE_URL` in your environment).
- The database should have a `checkin` table with columns: `qrcode`, `present` (boolean), and `checkin_time` (timestamp).

### 4. Start the backend server
```
node index.js
```

### 5. Run the frontend
- Open `admin.html` in your browser.
- Make sure to add the following script in your HTML `<head>` or before your own JS:
  ```html
  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
  ```

## How it works
1. The admin scans a member's QR code using the camera.
2. The app extracts the QR hash (the `qrcode` value) from the QR code.
3. The backend checks the database:
   - If the member exists and is not already present, it marks them as present and sets the check-in time.
   - If not, it returns an error message.

## API Endpoints
- `GET /members` — List all members
-- `POST /checkin` — Check in a member (body: `{ qrcode: "<hash>" }`)

## Dependencies
- [Express](https://expressjs.com/)
- [pg](https://node-postgres.com/)
- [cors](https://www.npmjs.com/package/cors)
- [html5-qrcode](https://github.com/mebjas/html5-qrcode) (frontend)

## License
MIT
